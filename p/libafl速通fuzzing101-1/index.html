<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='æœ¬ç³»åˆ—æ˜¯å­¦ä¹ ã€ŠFuzzing101 with LibAFLã€‹ç³»åˆ—åšå®¢ï¼ˆåæ–‡ç»Ÿç§°ï¼šåŸåšå®¢ï¼‰çš„ç¬”è®°åˆ†äº«ï¼Œåœ¨å­¦ä¹ ä»‹ç» LibAFL ç”¨æ³•çš„åŒæ—¶æ€»ç»“ Rust çŸ¥è¯†ç‚¹ã€‚ å‰ç½®çŸ¥è¯†ï¼š fu'>
<title>libAFLé€Ÿé€šFuzzing101 (1)</title>

<link rel='canonical' href='https://lonelyuan.github.io/p/libafl%E9%80%9F%E9%80%9Afuzzing101-1/'>

<link rel="stylesheet" href="/scss/style.min.ff300df33b80e2ac49809c825614392ed1c7b27591d65d3c4043602cd162e25f.css"><meta property='og:title' content='libAFLé€Ÿé€šFuzzing101 (1)'>
<meta property='og:description' content='æœ¬ç³»åˆ—æ˜¯å­¦ä¹ ã€ŠFuzzing101 with LibAFLã€‹ç³»åˆ—åšå®¢ï¼ˆåæ–‡ç»Ÿç§°ï¼šåŸåšå®¢ï¼‰çš„ç¬”è®°åˆ†äº«ï¼Œåœ¨å­¦ä¹ ä»‹ç» LibAFL ç”¨æ³•çš„åŒæ—¶æ€»ç»“ Rust çŸ¥è¯†ç‚¹ã€‚ å‰ç½®çŸ¥è¯†ï¼š fu'>
<meta property='og:url' content='https://lonelyuan.github.io/p/libafl%E9%80%9F%E9%80%9Afuzzing101-1/'>
<meta property='og:site_name' content='lonelyuan&#39;s Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='fuzz' /><meta property='article:tag' content='rust' /><meta property='article:tag' content='Libafl' /><meta property='article:tag' content='fuzzing101' /><meta property='article:published_time' content='2023-07-26T02:54:55&#43;08:00'/><meta property='article:modified_time' content='2023-07-26T02:54:55&#43;08:00'/><meta property='og:image' content='https://lonelyuan.github.io/p/libafl%E9%80%9F%E9%80%9Afuzzing101-1/exe1.png' />
<meta name="twitter:title" content="libAFLé€Ÿé€šFuzzing101 (1)">
<meta name="twitter:description" content="æœ¬ç³»åˆ—æ˜¯å­¦ä¹ ã€ŠFuzzing101 with LibAFLã€‹ç³»åˆ—åšå®¢ï¼ˆåæ–‡ç»Ÿç§°ï¼šåŸåšå®¢ï¼‰çš„ç¬”è®°åˆ†äº«ï¼Œåœ¨å­¦ä¹ ä»‹ç» LibAFL ç”¨æ³•çš„åŒæ—¶æ€»ç»“ Rust çŸ¥è¯†ç‚¹ã€‚ å‰ç½®çŸ¥è¯†ï¼š fu"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://lonelyuan.github.io/p/libafl%E9%80%9F%E9%80%9Afuzzing101-1/exe1.png' />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BLVC1PKZKD"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-BLVC1PKZKD', { 'anonymize_ip': false });
}
</script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-BLVC1PKZKD', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/rick_hubede16acaa63e012983e5eadbe210d5c_33168_300x0_resize_q75_box.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ‘´</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">lonelyuan&#39;s Blog</a></h1>
            <h2 class="site-description"> &gt;&gt; ä¸è¦ææ…Œ | Don&#39;t Panic </h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/lonelyuan'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com/FTrumpyeah'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about-me/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About Me</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/categories/cs/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



                
                <span>CS</span>
            </a>
        </li>
        
        
        <li >
            <a href='/categories/ctf/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-infinity" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M9.828 9.172a4 4 0 1 0 0 5.656 a10 10 0 0 0 2.172 -2.828a10 10 0 0 1 2.172 -2.828 a4 4 0 1 1 0 5.656a10 10 0 0 1 -2.172 -2.828a10 10 0 0 0 -2.172 -2.828" />
</svg>



                
                <span>CTF</span>
            </a>
        </li>
        
        
        <li >
            <a href='/categories/sec/' >
                
                
                
                    <svg data-immersive-translate-effect="1" data-immersive_translate_walked="0b66fd33-9d65-4c0d-a958-cdfe41102bc1" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" data-immersive-translate-effect="1" data-immersive_translate_walked="0b66fd33-9d65-4c0d-a958-cdfe41102bc1"></path>
</svg>
                
                <span>Sec</span>
            </a>
        </li>
        
        
        <li >
            <a href='/todo/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                
                <span>TODO</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                <form action="/search/" class="search-form widget" >
        <p>
            <label>Search</label>
            <input name="keyword" required placeholder="Type something..." />
        
            <button title="Search">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



            </button>
        </p>
    </form>
            
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#æ˜¯ä¸æ˜¯æfuzzçš„éƒ½åœ¨ærust">æ˜¯ä¸æ˜¯æfuzzçš„éƒ½åœ¨ærust</a></li>
    <li><a href="#execise-1-xpdf">Execise-1 xpdf</a>
      <ol>
        <li><a href="#rust-åŸºç¡€ä¹‹cargo">Rust åŸºç¡€ä¹‹cargo</a>
          <ol>
            <li><a href="#cargotoml">Cargo.toml</a></li>
            <li><a href="#buildrs">build.rs</a></li>
          </ol>
        </li>
        <li><a href="#libafl-ç»„è£…">LibAFL ç»„è£…</a>
          <ol>
            <li><a href="#ç»„ä»¶fuzzer">ç»„ä»¶ï¼šFuzzer</a></li>
            <li><a href="#ç»„ä»¶state">ç»„ä»¶ï¼šState</a></li>
            <li><a href="#rust-åŸºç¡€ä¹‹æ‰€æœ‰æƒ">Rust åŸºç¡€ä¹‹æ‰€æœ‰æƒ</a></li>
            <li><a href="#ç»„ä»¶observer--feedback">ç»„ä»¶ï¼šObserver &amp; Feedback</a></li>
            <li><a href="#ç»„ä»¶executor">ç»„ä»¶ï¼šExecutor</a></li>
          </ol>
        </li>
        <li><a href="#è·‘">è·‘ğŸƒâ€</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
            
                <section class="widget tagCloud">
    <div class="widget-icon">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



    </div>
    <h2 class="widget-title section-title">Categories</h2>

    <div class="tagCloud-tags">
        
            <a href="/categories/cs/" class="font_size_7">
                CS
            </a>
        
            <a href="/categories/sec/" class="font_size_3">
                Sec
            </a>
        
            <a href="/categories/web/" class="font_size_3">
                Web
            </a>
        
            <a href="/categories/ctf/" class="font_size_1">
                CTF
            </a>
        
    </div>
</section>

            
        
            
                <section class="widget tagCloud">
    <div class="widget-icon">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11 3L20 12a1.5 1.5 0 0 1 0 2L14 20a1.5 1.5 0 0 1 -2 0L3 11v-4a4 4 0 0 1 4 -4h4" />
  <circle cx="9" cy="9" r="2" />
</svg>



    </div>
    <h2 class="widget-title section-title">Tags</h2>

    <div class="tagCloud-tags">
        
            <a href="/tags/fuzz/" class="font_size_3">
                fuzz
            </a>
        
            <a href="/tags/fuzzing101/" class="font_size_3">
                fuzzing101
            </a>
        
            <a href="/tags/libafl/" class="font_size_3">
                Libafl
            </a>
        
            <a href="/tags/rust/" class="font_size_3">
                rust
            </a>
        
            <a href="/tags/csapp/" class="font_size_2">
                CSAPP
            </a>
        
    </div>
</section>
            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/libafl%E9%80%9F%E9%80%9Afuzzing101-1/">
                <img src="/p/libafl%E9%80%9F%E9%80%9Afuzzing101-1/exe1_hu040a15c83346252047b5ebf7d9d42a76_312292_800x0_resize_box_3.png"
                        srcset="/p/libafl%E9%80%9F%E9%80%9Afuzzing101-1/exe1_hu040a15c83346252047b5ebf7d9d42a76_312292_800x0_resize_box_3.png 800w, /p/libafl%E9%80%9F%E9%80%9Afuzzing101-1/exe1_hu040a15c83346252047b5ebf7d9d42a76_312292_1600x0_resize_box_3.png 1600w"
                        width="800" 
                        height="459" 
                        loading="lazy"
                        alt="Featured image of post libAFLé€Ÿé€šFuzzing101 (1)" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/sec/" >
                Sec
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/libafl%E9%80%9F%E9%80%9Afuzzing101-1/">libAFLé€Ÿé€šFuzzing101 (1)</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jul 26, 2023</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    7 minute read
                    <span class="post-word-count">, 3206 words</span> 

                </time>
            </div>
            
        

    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <blockquote>
<p>æœ¬ç³»åˆ—æ˜¯å­¦ä¹ <a class="link" href="https://epi052.gitlab.io/notes-to-self/blog/2021-11-01-fuzzing-101-with-libafl/"  target="_blank" rel="noopener"
    >ã€ŠFuzzing101 with LibAFLã€‹</a>ç³»åˆ—åšå®¢ï¼ˆåæ–‡ç»Ÿç§°ï¼šåŸåšå®¢ï¼‰çš„ç¬”è®°åˆ†äº«ï¼Œåœ¨å­¦ä¹ ä»‹ç» LibAFL ç”¨æ³•çš„åŒæ—¶æ€»ç»“ Rust çŸ¥è¯†ç‚¹ã€‚<br>
<strong>å‰ç½®çŸ¥è¯†</strong>ï¼š fuzzåŸºæœ¬æ¦‚å¿µã€AFLåŸºæœ¬ä½¿ç”¨ <br>
<strong>æœ¬ç¯‡è¦ç‚¹</strong>ï¼š</p>
<ul>
<li>LibAFL
<ul>
<li>9å¤§ç»„ä»¶</li>
<li>Forkserveræ¨¡å¼ï¼šç®€å•ç»„è£…</li>
</ul>
</li>
<li>Rust
<ul>
<li>Cargo åŸºæœ¬ä½¿ç”¨</li>
<li>å˜é‡æ‰€æœ‰æƒï¼š
<ul>
<li>è½¬ç§»(move) å’Œ æ‹·è´(copy)</li>
<li>å¼•ç”¨(reference) å’Œ å€Ÿç”¨(borrowing)</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<hr>
<h2 id="æ˜¯ä¸æ˜¯æfuzzçš„éƒ½åœ¨ærust">æ˜¯ä¸æ˜¯æfuzzçš„éƒ½åœ¨ærust</h2>
<p><a class="link" href="https://github.com/antonio-morales/Fuzzing101"  target="_blank" rel="noopener"
    >Fuzzing101</a>æ˜¯å¤§åé¼é¼çš„ Fuzzing å…¥é—¨æ•™ç¨‹ã€‚ğŸ‘´ä¹‹å‰æè¿‡ä¸€ç‚¹ï¼Œæ•…è¿™æ¬¡æ•´ç‚¹èŠ±æ´»ã€‚çœ‹åˆ°æœ‰ä¸ªå«<a class="link" href="https://epi052.gitlab.io/notes-to-self/blog/"  target="_blank" rel="noopener"
    >epi052</a>çš„å¤§ä½¬ç”¨ LibAFL åš Fuzzing101ï¼Œäºæ˜¯ğŸ‘´ä¹Ÿè·Ÿç€å­¦ä¸€æ³¢rustã€‚</p>
<p><a class="link" href="https://github.com/AFLplusplus/LibAFL"  target="_blank" rel="noopener"
    >LibAFL</a>æ˜¯ç”¨ Rust å†™çš„ Fuzzing æ¡†æ¶ï¼Œä¸»è¦è´¡çŒ®åœ¨äºç»™å‡ºäº†ä¸€å¥— Fuzzer çš„æ ‡å‡†åŒ–å®šä¹‰ï¼Œä»¥æ­¤è¯•å›¾æ”¹å–„å½“ä»Š Fuzzing ç ”ç©¶ç•Œæˆæœå€å‡ºä½†äº’ä¸å…¼å®¹ï¼Œç»å¸¸é‡å¤é€ è½®å­çš„ç°è±¡ã€‚</p>
<p>LibAFL éš¶å±äº AFL++ é¡¹ç›®ç»„ï¼Œæ•…éœ€è¦å…ˆé…ç½® AFL++ ã€‚è€Œ AFL++ çš„å®˜æ–¹ Docker é•œåƒå°±åŒ…å«äº† Rust ç¯å¢ƒï¼Œæ‰€ä»¥ä½¿ç”¨ Docker é… LibAFL ç¯å¢ƒå°±åªéœ€ä¸€å¥è¯ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker pull aflplusplus/aflplusplus
</span></span><span class="line"><span class="cl">docker run -ti -v ./Fuzzing101:/fuzzing101 aflplusplus/aflplusplus
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="execise-1-xpdf">Execise-1 xpdf</h2>
<p>ç»ƒä¹ ä¸€ä¸»è¦æ˜¯ç†Ÿæ‚‰åŸºæœ¬æµç¨‹ã€‚ä½¿ç”¨AFLä¸»è¦æœ‰ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>ç›®æ ‡ç¼–è¯‘æ’æ¡©ã€‚å¦‚ï¼š</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">LLVM_CONFIG</span><span class="o">=</span>llvm-config-15
</span></span><span class="line"><span class="cl"><span class="nv">CC</span><span class="o">=</span>afl-clang-fast <span class="nv">CXX</span><span class="o">=</span>afl-clang-fast++ ./configure --prefix<span class="o">=</span>./install
</span></span><span class="line"><span class="cl">make
</span></span><span class="line"><span class="cl">make install
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>è¯­æ–™åº“å‡†å¤‡</li>
<li>æ‰§è¡Œafl-fuzz</li>
</ul>
<p>Let&rsquo;s see å¦‚ä½•ç”¨Rustå®Œæˆä¸Šè¿°æ­¥éª¤ã€‚</p>
<h3 id="rust-åŸºç¡€ä¹‹cargo">Rust åŸºç¡€ä¹‹cargo</h3>
<p>åœ¨ Rust ä¸­ï¼Œå¯ä»¥ç”¨<code>rustc</code>ç¼–è¯‘å•ä¸ªæ–‡ä»¶ï¼Œæ›´å¸¸è§çš„æ˜¯ä½¿ç”¨åŒ…ç®¡ç†å™¨<code>cargo</code>ã€‚</p>
<h4 id="cargotoml">Cargo.toml</h4>
<p>è¿è¡Œ<code>cargo new</code>åˆ›å»ºä¸€ä¸ª package ï¼Œå…¶ä¸­å¿…æœ‰<code>Cargo.toml</code>ï¼Œæè¿° package å¦‚ä½•æ„å»ºã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="c"># execise-1/Cargo.toml</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">package</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;exercise-1&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">version</span> <span class="p">=</span> <span class="s2">&#34;0.1.0&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">edition</span> <span class="p">=</span> <span class="s2">&#34;2021&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">build</span> <span class="p">=</span> <span class="s2">&#34;build.rs&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">dependencies</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">libafl</span> <span class="p">=</span> <span class="s2">&#34;0.10.1&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æœ¬é¡¹ç›®é¦–å…ˆè§„å®šäº†æ„å»ºè„šæœ¬ä¸º<code>build.rs</code>ï¼Œç„¶åå¼•å…¥äº† libafl ä¾èµ–ã€‚
è¿è¡Œ<code>cargo build</code>æ—¶ï¼ŒCargo ä¼šè‡ªåŠ¨å¤„ç†ä¾èµ–ã€‚(åŒ…æ‹¬ crates.io ä¸‹è½½å®‰è£…ï¼Œæˆ‘è§‰å¾—è¿™å°±æ˜¯ç°ä»£è¯­è¨€çš„ä¸€ç§è‡ªä¿¡)</p>
<h4 id="buildrs">build.rs</h4>
<p>æ„å»ºè„šæœ¬æ˜¯ä¸ºäº†æ–¹ä¾¿ Rust é¡¹ç›®ä¸ç¬¬ä¸‰æ–¹å·¥å…·çš„é›†æˆã€‚æ¯”å¦‚ä¸Šæ–‡ä¸­ç›®æ ‡ç¼–è¯‘çš„å‡ æ¡æŒ‡ä»¤ï¼Œå°±å¯ä»¥ç”¨ Rust std åº“ä¸­çš„Commandç±»æ¥æ‰§è¡Œã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="c1">// make clean; 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">Command</span>::<span class="n">new</span><span class="p">(</span><span class="s">&#34;make&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">arg</span><span class="p">(</span><span class="s">&#34;clean&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">current_dir</span><span class="p">(</span><span class="n">xpdf_dir</span><span class="p">.</span><span class="n">clone</span><span class="p">())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">status</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="s">&#34;Couldn&#39;t clean xpdf directory&#34;</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ä½¿ç”¨æ„å»ºè„šæœ¬è¿˜æœ‰è®¸å¤šå¥½å¤„ï¼Œå¯ä»¥åˆ©ç”¨ Cargo é‡‡å–æ›´çµæ´»çš„æ„å»ºç­–ç•¥ã€‚æ„å»ºè„šæœ¬çš„è¾“å‡ºå¯ä»¥è¢« Cargo è§£é‡Šï¼Œåªéœ€æ‰“å°ä»¥<code>cargo:</code> å¼€å¤´çš„æŒ‡ä»¤ã€‚å¦‚ä¸‹é¢ä¸¤è¡Œè¾“å‡ºå‘ Cargo è¡¨æ˜ä»…åœ¨è¿™ä¸¤ä¸ªæ–‡ä»¶å‘ç”Ÿæ”¹åŠ¨æ—¶æ‰§è¡Œæ„å»ºè„šæœ¬ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;cargo:rerun-if-changed=build.rs&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;cargo:rerun-if-changed=src/main.rs&#34;</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="libafl-ç»„è£…">LibAFL ç»„è£…</h3>
<p>ä¸Šè¿°è¿˜æ˜¯ç”œç‚¹ï¼Œä¸‹é¢è¿›å…¥æ­£èœç¯èŠ‚ã€‚ LibAFL å°† Fuzzer å®šä¹‰ä¸º9ä¸ªç»„ä»¶ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<blockquote>
<p>æ‘˜è‡ª<a class="link" href="https://chinggg.github.io/post/libafl/"  target="_blank" rel="noopener"
    >è¿™ç¯‡åšå®¢</a>ã€‚</p>
</blockquote>
<ul>
<li>Inputï¼šç¨‹åºçš„è¾“å…¥ã€‚
<ul>
<li>é‡ç‚¹æ˜¯æ ¼å¼ï¼Œæœ€å¸¸è§çš„å°±æ˜¯ byte arrayï¼Œä¹Ÿæœ‰ASTç­‰ã€‚</li>
</ul>
</li>
<li>Corpusï¼šè¾“å…¥å’Œå…¶é™„å±å…ƒæ•°æ®çš„å­˜å‚¨ã€‚
<ul>
<li>å­˜å‚¨æœ‰ä½äºå†…å­˜å’Œä½äºç¡¬ç›˜ä¸¤ç§ï¼Œåè€…æ›´å¹¿æ³›ã€‚è¾“å…¥ä¹Ÿå¯åˆ†ä¸ºæœ‰åŠ©äºè¿›åŒ–çš„ interesting testcase å’Œæœ€ç»ˆè§¦å‘ crash çš„ solutionã€‚</li>
</ul>
</li>
<li>Schedulerï¼šä» corpus ä¸­é€‰å– testcase çš„è°ƒåº¦ç­–ç•¥ã€‚
<ul>
<li>æœ€æœ´ç´ çš„å³å…ˆè¿›å…ˆå‡ºæˆ–éšæœºé€‰æ‹©ï¼Œä¹Ÿå¯å¼•å…¥ä¼˜å…ˆçº§ç®—æ³•ã€‚</li>
</ul>
</li>
<li>Stageï¼šå®šä¹‰å¯¹ testcase è¿›è¡Œçš„æ“ä½œï¼ˆactionï¼‰ã€‚
<ul>
<li>å¾€å¾€ä¼šè¿›è¡Œå¤šé˜¶æ®µçš„æ“ä½œã€‚å¦‚ AFL ä¸­çš„ random havoc stageã€‚</li>
</ul>
</li>
<li>Observerï¼šæä¾›ä¸€æ¬¡æ‰§è¡Œç›®æ ‡ç¨‹åºçš„ä¿¡æ¯ã€‚
<ul>
<li>å¸¸ç”¨çš„ coverage map å°±æ˜¯ä¸€ç§ observerã€‚</li>
</ul>
</li>
<li>Executorï¼šç”¨ fuzzer çš„è¾“å…¥æ¥æ‰§è¡Œç›®æ ‡ç¨‹åºã€‚
<ul>
<li>ä¸åŒ fuzzer åœ¨è¿™æ–¹é¢åŒºåˆ«å¾ˆå¤§ã€‚</li>
</ul>
</li>
<li>Feedbackï¼šå°†ç¨‹åºæ‰§è¡Œçš„ç»“æœåˆ†ç±»ä»¥å†³å®šæ˜¯å¦å°†å…¶åŠ å…¥ corpusã€‚
<ul>
<li>feedback é€šå¸¸å¤„ç†ä¸€ä¸ªæˆ–å¤šä¸ª observer æŠ¥å‘Šçš„ä¿¡æ¯æ¥åˆ¤æ–­ execution æ˜¯å¦ â€œinterestingâ€ï¼Œæ˜¯å¦æ˜¯æ»¡è¶³æ¡ä»¶çš„ solutionï¼Œæ¯”å¦‚å¯è§‚æµ‹çš„ crashã€‚</li>
</ul>
</li>
<li>Mutatorï¼šä»ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å…¥ç”Ÿæˆæ–°çš„ testcaseã€‚
<ul>
<li>é€šå¸¸æ˜¯æœ€å¸¸æ”¹åŠ¨çš„ï¼Œä¸åŒ mutator å¯ä»¥ç»„åˆï¼Œå¾€å¾€è¿˜å’Œç‰¹å®šçš„è¾“å…¥ç±»å‹ç»‘å®šã€‚</li>
</ul>
</li>
<li>Generatorï¼šå‡­ç©ºäº§ç”Ÿæ–°çš„è¾“å…¥ã€‚
<ul>
<li>æœ‰éšæœºç”Ÿæˆçš„ï¼Œä¹Ÿæœ‰ Nautilus è¿™ç§åŸºäºè¯­æ³•çš„ã€‚</li>
</ul>
</li>
</ul>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨ LibAFL å®ç°ä¸­è¿˜æœ‰è‹¥å¹²é‡è¦ç»„ä»¶ï¼š</p>
<blockquote>
<p><a class="link" href="https://docs.rs/libafl/0.10.1/libafl/"  target="_blank" rel="noopener"
    >APIæ–‡æ¡£</a> <br>
è¯·  å‚é˜…</p>
</blockquote>
<ul>
<li>State: åŒ…å«äº†è¿è¡Œæ—¶çš„æ‰€æœ‰å…ƒæ•°æ®ï¼ŒåŒ…æ‹¬ Corpusã€RNG ç­‰ã€‚</li>
<li>Bolts: å·¥å…·åº“ï¼Œå®ç°äº†è¯¸å¦‚å…±äº«å†…å­˜çš„æ”¯æŒã€‚</li>
<li>Monitor: å‘ç”¨æˆ·æ‰“å°logä¹‹ç±»ã€‚</li>
<li>Events: ç»„ä»¶ä¹‹é—´é€šä¿¡</li>
<li>Fuzzer: é¡¶å±‚ç»„ä»¶ï¼ŒæŠŠä¸€åˆ‡ç»„ç»‡èµ·æ¥</li>
</ul>
<p>å› åŸåšå®¢çš„è®²è§£å¾ˆè¯¦ç»†ï¼Œä¸”æä¾›äº†å®Œæ•´ä»£ç ã€‚æ•…æœ¬æ–‡è¯•å›¾åˆ‡æ¢è§†è§’ï¼Œä»è‡ªé¡¶å‘ä¸‹çš„è§’åº¦æ‹†è§£ä»£ç ï¼š</p>
<h4 id="ç»„ä»¶fuzzer">ç»„ä»¶ï¼šFuzzer</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">monitor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SimpleMonitor</span>::<span class="n">new</span><span class="p">(</span><span class="o">|</span><span class="n">s</span><span class="o">|</span><span class="w"> </span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;</span><span class="si">{s}</span><span class="s">&#34;</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">mgr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SimpleEventManager</span>::<span class="n">new</span><span class="p">(</span><span class="n">monitor</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">scheduler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IndexesLenTimeMinimizerScheduler</span>::<span class="n">new</span><span class="p">(</span><span class="n">QueueScheduler</span>::<span class="n">new</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">mutator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StdScheduledMutator</span>::<span class="n">new</span><span class="p">(</span><span class="n">havoc_mutations</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">stages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="fm">tuple_list!</span><span class="p">(</span><span class="n">StdMutationalStage</span>::<span class="n">new</span><span class="p">(</span><span class="n">mutator</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="o">-------------</span><span class="mi">8</span><span class="o">&lt;-------------</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">fuzzer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StdFuzzer</span>::<span class="n">new</span><span class="p">(</span><span class="n">scheduler</span><span class="p">,</span><span class="w"> </span><span class="n">feedback</span><span class="p">,</span><span class="w"> </span><span class="n">objective</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">fuzzer</span><span class="p">.</span><span class="n">fuzz_loop</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">stages</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">executor</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">mgr</span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥çœ‹åˆ° <code>StdFuzzer</code> ä¸²è”èµ·äº†å…¨éƒ¨ç»„ä»¶ã€‚<code>mgr</code>ã€<code>scheduler</code>ã€<code>mutator</code>ã€<code>stages</code> éƒ½æ˜¯ä½¿ç”¨åº“è‡ªå¸¦çš„ç±»ï¼Œå›ºçœç•¥ä¹‹ï¼Œä¸‹é¢è¯¦è¿°å¤æ‚äº›çš„ç»„ä»¶ã€‚</p>
<h4 id="ç»„ä»¶state">ç»„ä»¶ï¼šState</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StdState</span>::<span class="n">new</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">StdRand</span>::<span class="n">with_seed</span><span class="p">(</span><span class="n">current_nanos</span><span class="p">()),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">input_corpus</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">timeouts_corpus</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">feedback</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">objective</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æŸ¥é˜…æ–‡æ¡£å¯çŸ¥<code>StdState</code>çš„æˆå‘˜å«ä¹‰ï¼Œè¿™äº›æˆå‘˜å°±æ˜¯Fuzzerçš„å…¨éƒ¨çŠ¶æ€äº†ã€‚ä¸€ä¸ªå¯èƒ½çš„ç–‘æƒ‘æ˜¯ä¸ºä»€ä¹ˆä¼šæœ‰<code>feedback</code>ã€<code>objective</code>ä¸¤ç§ Feedbackï¼Œè®©æˆ‘ä»¬ç»§ç»­å‘ä¸Šæ£€é˜…ä»£ç ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pub fn new&lt;F, O&gt;(
</span></span><span class="line"><span class="cl">    rand: R,
</span></span><span class="line"><span class="cl">    corpus: C,
</span></span><span class="line"><span class="cl">    solutions: SC,
</span></span><span class="line"><span class="cl">    feedback: &amp;mut F,
</span></span><span class="line"><span class="cl">    objective: &amp;mut O
</span></span><span class="line"><span class="cl">) -&gt; Result&lt;Self, Error&gt;
</span></span><span class="line"><span class="cl">where
</span></span><span class="line"><span class="cl">    F: Feedback&lt;Self&gt;,
</span></span><span class="line"><span class="cl">    O: Feedback&lt;Self&gt;,
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="rust-åŸºç¡€ä¹‹æ‰€æœ‰æƒ">Rust åŸºç¡€ä¹‹æ‰€æœ‰æƒ</h4>
<p>æ‰€æœ‰æƒï¼Œæ˜¯ Rust ç‰¹æœ‰çš„è®¾è®¡ï¼Œåœ¨æ— GCçš„å‰æä¸‹å®ç°å†…å­˜å®‰å…¨ä¸é«˜æ€§èƒ½ã€‚åŸºæœ¬è§„åˆ™ï¼š</p>
<ol>
<li>Rust ä¸­æ¯ä¸€ä¸ªå€¼éƒ½è¢«ä¸€ä¸ªå˜é‡æ‰€æ‹¥æœ‰ï¼Œè¯¥å˜é‡è¢«ç§°ä¸ºå€¼çš„æ‰€æœ‰è€…</li>
<li>ä¸€ä¸ªå€¼åŒæ—¶åªèƒ½è¢«ä¸€ä¸ªå˜é‡æ‰€æ‹¥æœ‰ï¼Œæˆ–è€…è¯´ä¸€ä¸ªå€¼åªèƒ½æ‹¥æœ‰ä¸€ä¸ªæ‰€æœ‰è€…</li>
<li>å½“æ‰€æœ‰è€…(å˜é‡)ç¦»å¼€ä½œç”¨åŸŸèŒƒå›´æ—¶ï¼Œè¿™ä¸ªå€¼å°†è¢«ä¸¢å¼ƒ(drop)</li>
</ol>
<p>åŸºäºè¿™äº›åŸåˆ™ï¼Œå½“ä¸€ä¸ªå€¼è¢«å¦ä¸€ä¸ªå˜é‡ä½¿ç”¨æ—¶ï¼Œä¼šå‘ç”Ÿæ‰€æœ‰æƒçš„è½¬ç§»ï¼Œå…ˆå‰çš„å˜é‡ä¾¿ä¸èƒ½è®¿é—®è¯¥å€¼ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="kd">let</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&#34;hello&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;</span><span class="si">{}</span><span class="s">, world!&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">s1</span><span class="p">);</span><span class="w"> </span><span class="c1">// æŠ¥é”™ï¼
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="kd">let</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&#34;hello&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s1</span><span class="p">.</span><span class="n">clone</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;</span><span class="si">{}</span><span class="s">, world!&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">s1</span><span class="p">);</span><span class="w"> </span><span class="c1">// ä¸æŠ¥é”™
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="kd">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;x = </span><span class="si">{}</span><span class="s">, y = </span><span class="si">{}</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span><span class="w"> </span><span class="c1">// ä¸æŠ¥é”™
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>è½¬ç§»(move) å’Œ æ‹·è´(copy)</li>
</ul>
<p><code>let s2 = s1;</code>åœ¨ Rust ä¸­è¢«ç§°ä¸ºå˜é‡ç»‘å®šï¼Œä»£è¡¨s1è¢«ç§»åŠ¨åˆ°äº†s2ã€‚</p>
<p>å¦‚æœæƒ³è¦è®¿é—®ç›¸åŒå€¼ï¼Œéœ€è¦å¯¹å˜é‡è¿›è¡Œæ‹·è´ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œintç±»å‹æ²¡æœ‰æ‹·è´ä¹Ÿä¸æŠ¥é”™ï¼Œè¿™æ˜¯å› ä¸ºåŸºæœ¬ç±»å‹çš„å¤§å°æ˜¯å·²çŸ¥çš„ï¼Œä¸”åˆ†é…åœ¨æ ˆä¸Šï¼Œå¯¹ä»–çš„æ‹·è´æ¯”è¾ƒç®€å•ï¼Œæ•… Rust è‡ªåŠ¨å®ç°äº†æ‹·è´ã€‚è€ŒStringæ˜¯å¤æ‚ç±»å‹ï¼Œå¿…é¡»æ˜¾å¼çš„æ‹·è´ã€‚</p>
<ul>
<li>å¼•ç”¨(reference) å’Œ å€Ÿç”¨(borrowing)</li>
</ul>
<p>å°†å€¼åœ¨å˜é‡ä¹‹é—´ä¼ æ¥ä¼ å»ç¡®å®æ¯”è¾ƒéº»çƒ¦ã€‚ Rustå®ç°äº†2ç§å¼•ç”¨ï¼š</p>
<ul>
<li><code>&amp;</code>: ä¸å¯å˜å¼•ç”¨ï¼Œå…è®¸ä½¿ç”¨å€¼ä½†ä¸è·å–æ‰€æœ‰æƒã€‚å¯ä»¥æœ‰å¤šä¸ªã€‚</li>
<li><code>&amp;mut</code>: å¯å˜å¼•ç”¨ã€‚ä»…èƒ½å­˜åœ¨ä¸€ä¸ªã€‚</li>
<li>å¯å˜å¼•ç”¨ä¸ä¸å¯å˜å¼•ç”¨ä¸èƒ½åŒæ—¶å­˜åœ¨ã€‚</li>
</ul>
<p>è·å–å˜é‡çš„å¼•ç”¨ï¼Œå°±ç§°ä¸ºå€Ÿç”¨ã€‚æ˜¾ç„¶ï¼Œåœ¨ç¦»å¼€ä½œç”¨åŸŸåæ‰€æœ‰æƒå°†è¢«å½’è¿˜ã€‚å¼•ç”¨çš„ä½œç”¨åŸŸä»åˆ›å»ºä¸€ç›´æŒç»­åˆ°å®ƒæœ€åä¸€æ¬¡ä½¿ç”¨ï¼Œè€Œå˜é‡çš„ä½œç”¨åŸŸä»åˆ›å»ºæŒç»­åˆ°æŸä¸€ä¸ªèŠ±æ‹¬å·<code>}</code>ã€‚</p>
<p>å¯¹å¼•ç”¨æœ‰æ•ˆæ€§çš„æ£€æŸ¥æ˜¯ Rust è§£å†³æ•°æ®ç«äº‰ï¼Œæ‚¬å‚æŒ‡é’ˆç­‰å®‰å…¨é—®é¢˜çš„é‡è¦æœºåˆ¶ã€‚</p>
<p>åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œéœ€è¦<code>feedback</code>å’Œ<code>objective</code>éšç€<code>state</code>æ›´æ–°è€Œä¸æ–­ç§¯ç´¯ï¼Œå› æ­¤ä½¿ç”¨å¯å˜å¼•ç”¨ã€‚è€Œå…¶ä»–æˆå‘˜å’Œ<code>state</code>ç›¸å…³ï¼Œæ•…ç›´æ¥å°†æ‰€æœ‰æƒç§»äº¤ç»™<code>state</code>ã€‚</p>
<p>å‚è€ƒæ–‡æ¡£ï¼šhttps://course.rs/basic/ownership/ownership.html</p>
<h4 id="ç»„ä»¶observer--feedback">ç»„ä»¶ï¼šObserver &amp; Feedback</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">time_observer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TimeObserver</span>::<span class="n">new</span><span class="p">(</span><span class="s">&#34;time&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">edges_observer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">unsafe</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">HitcountsMapObserver</span>::<span class="n">new</span><span class="p">(</span><span class="n">StdMapObserver</span>::<span class="n">new</span><span class="p">(</span><span class="s">&#34;shared_mem&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">shmem_buf</span><span class="p">))</span><span class="w"> </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">feedback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="fm">feedback_or!</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">MaxMapFeedback</span>::<span class="n">tracking</span><span class="p">(</span><span class="o">&amp;</span><span class="n">edges_observer</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">TimeFeedback</span>::<span class="n">with_observer</span><span class="p">(</span><span class="o">&amp;</span><span class="n">time_observer</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">objective</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="fm">feedback_and_fast!</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">TimeoutFeedback</span>::<span class="n">new</span><span class="p">(),</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">MaxMapFeedback</span>::<span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">edges_observer</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚å®šä¹‰æ‰€è¨€ï¼ŒObserver ä»…æä¾›ä¿¡æ¯ï¼ŒFeedback å°†è§‚å¯Ÿåˆ°çš„ä¿¡æ¯è¿›è¡Œåˆ¤æ–­ã€‚
åœ¨æœ¬ä¾‹ä¸­ï¼Œé¦–å…ˆå®šä¹‰çš„ä¸¤ä¸ªObserveråˆ†åˆ«æä¾›äº†ä»£ç è¿è¡Œæ—¶é—´å’Œä¾¿è¦†ç›–ç‡çš„ä¿¡æ¯ã€‚
ç„¶ååˆ†å¸ƒå¯¹ä»–ä»¬è¿›è¡Œäº†ä¸åŒçš„åé¦ˆåˆ¤æ–­ã€‚<code>feedback_or</code>å’Œ<code>feedback_and_fast</code>æ˜¯é€»è¾‘åˆ¤æ–­å®ã€‚å› æ­¤å¯ä»¥è§£è¯»ä»–ä»¬çš„é€»è¾‘ï¼š</p>
<ul>
<li><code>feedback</code>çš„æ¡ä»¶æ˜¯è¦†ç›–äº†æ–°çš„åˆ†æ”¯ æˆ– â€œè¿è¡Œæ—¶é—´åé¦ˆâ€ã€‚æ•…åé¦ˆçš„æ˜¯æœ‰è¶£çš„æ ·ä¾‹(interesting testcase)
<ul>
<li>å®é™…ä¸Šï¼Œâ€œè¿è¡Œæ—¶é—´åé¦ˆâ€æ°¸è¿œä¸ä¼šçœŸçš„åé¦ˆï¼Œéœ€è¦é…åˆå…¶ä»–åé¦ˆä½¿ç”¨ã€‚è¿™é‡Œä»…ä½œç¤ºä¾‹ã€‚</li>
</ul>
</li>
<li><code>objective</code>çš„æ¡ä»¶æ˜¯è¦†ç›–äº†æ–°çš„åˆ†æ”¯ ä¸” è¿è¡Œè¶…æ—¶ã€‚æ•…åé¦ˆçš„æ˜¯èƒ½è§¦å‘æ— é™é€’å½’æ¼æ´çš„æ ·ä¾‹ï¼Œå³æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼ˆsolutionï¼‰</li>
</ul>
<h4 id="ç»„ä»¶executor">ç»„ä»¶ï¼šExecutor</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">fork_server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ForkserverExecutor</span>::<span class="n">builder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="n">program</span><span class="p">(</span><span class="s">&#34;./xpdf/install/bin/pdftotext&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="n">parse_afl_cmdline</span><span class="p">([</span><span class="s">&#34;@@&#34;</span><span class="p">])</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="n">coverage_map_size</span><span class="p">(</span><span class="no">MAP_SIZE</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="n">build</span><span class="p">(</span><span class="fm">tuple_list!</span><span class="p">(</span><span class="n">time_observer</span><span class="p">,</span><span class="w"> </span><span class="n">edges_observer</span><span class="p">))</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Duration</span>::<span class="n">from_secs</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TimeoutForkserverExecutor</span>::<span class="n">new</span><span class="p">(</span><span class="n">fork_server</span><span class="p">,</span><span class="w"> </span><span class="n">timeout</span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æˆ‘ä»¬çš„ Executor è¿˜æ˜¯é‡‡ç”¨ç»å…¸çš„ forkserver æ¶æ„ï¼Œæ„å»º Executor æ—¶ï¼Œé¦–å…ˆåŠ å…¥äº†ä¸¤ä¸ª Observer ï¼Œç„¶åæŒ‡å®šäº†è¶…æ—¶æ—¶é—´ï¼Œæœ‰åŠ©äºå¢åŠ fuzzååé‡ã€‚</p>
<h3 id="è·‘">è·‘ğŸƒâ€</h3>
<p>æ€»ä¹‹å€ŸåŠ© LibAFL çš„æ¡†æ¶ï¼Œå†™ä¸€ä¸ª Fuzzer è¿˜æ˜¯å¾ˆæ¸…æ™°çš„ã€‚ï¼ˆæˆ–è®¸è‹¥å¹²å¹´åçš„ Fuzzing å­¦ä¹ è€…å°±ä¸ç”¨å•ƒAFLçš„1000è¡Œæºç äº†ğŸ˜­ï¼‰</p>
<p>æœ€åè·‘å‡ºæ¥ä¸€ä¸ªæ­»å¾ªç¯ã€‚ğŸ‘´å®£å¸ƒå®éªŒä¸€å®Œæˆã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[AFL++ 798a8ebfa8a4] /fuzzing101/exercise-1 # ./xpdf/install/bin/pdftotext ./timeouts/c497979e26a808e9
</span></span><span class="line"><span class="cl">Error: PDF file is damaged - attempting to reconstruct xref table...
</span></span><span class="line"><span class="cl">Error (2459): Dictionary key must be a name object
</span></span><span class="line"><span class="cl">Error (2465): Illegal character &#39;&gt;&#39;
</span></span><span class="line"><span class="cl">Error (2468): Dictionary key must be a name object
</span></span><span class="line"><span class="cl">Error (2471): Dictionary key must be a name object
</span></span><span class="line"><span class="cl">Error (2486): Dictionary key must be a name object
</span></span><span class="line"><span class="cl">Error (2488): Illegal character &lt;2f&gt; in hex string
</span></span><span class="line"><span class="cl">Error (2489): Illegal character &lt;78&gt; in hex string
</span></span><span class="line"><span class="cl">Error (2490): Illegal character &lt;6d&gt; in hex string
</span></span><span class="line"><span class="cl">Error (2491): Illegal character &lt;70&gt; in hex string
</span></span><span class="line"><span class="cl">Error (2492): Illegal character &lt;3a&gt; in hex string
</span></span><span class="line"><span class="cl">Error (2493): Illegal character &lt;4d&gt; in hex string
</span></span><span class="line"><span class="cl">Error (2494): Illegal character &lt;6f&gt; in hex string
</span></span><span class="line"><span class="cl">Error (2496): Illegal character &lt;69&gt; in hex string
</span></span><span class="line"><span class="cl">Error (2498): Illegal character &lt;79&gt; in hex string
</span></span><span class="line"><span class="cl">Error (2501): Illegal character &lt;74&gt; in hex string
</span></span><span class="line"><span class="cl">Error (2503): Dictionary key must be a name object
</span></span><span class="line"><span class="cl">-------------8&lt;-------------
</span></span></code></pre></td></tr></table>
</div>
</div>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/fuzz/">fuzz</a>
        
            <a href="/tags/rust/">rust</a>
        
            <a href="/tags/libafl/">Libafl</a>
        
            <a href="/tags/fuzzing101/">fuzzing101</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/p/libafl-fuzzing101-3/">
        
        

        <div class="article-details">
            <h2 class="article-title">libAFLé€Ÿé€šFuzzing101 (3)</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/libafl%E9%80%9F%E9%80%9Afuzzing101-2/">
        
        
            <div class="article-image">
                <img src="/p/libafl%E9%80%9F%E9%80%9Afuzzing101-2/final.8d1e40a6678ff37b9f2e9b6d4ea42dce_hu189931506a8648410d5552fb49660c91_955953_250x150_fill_box_smart1_3.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post libAFLé€Ÿé€šFuzzing101 (2)"
                        data-key="libaflé€Ÿé€šfuzzing101-2" 
                        data-hash="md5-jR5ApmeP83ufLpttTqQtzg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">libAFLé€Ÿé€šFuzzing101 (2)</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <div id="gitalk-container"></div>
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css"
/>
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.18.0/js/md5.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: "51da5c60f4f56c7257ec",
        clientSecret: "c6208164907a36b5b54077802ac3319a9dc833f9",
        repo: "gitalk_comments",
        owner: "lonelyuan",
        admin: ["lonelyuan"],
        distractionFreeMode: false, 
        id: md5(location.pathname), 
    });
    (function () {
        if (
            ["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1
        ) {
            document.getElementById("gitalk-container").innerHTML =
                "Gitalk comments not available by default when the website is previewed locally.";
            return;
        }
        gitalk.render("gitalk-container");
    })();
</script>



    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2023 lonelyuan&#39;s Blog
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.17.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
